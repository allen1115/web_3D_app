webpackJsonp([4],{UHcH:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{url:"http://localhost/web_3D_app/public/index.php/index/index",tableData:[],editVisible:!1,delVisible:!1,createVisible:!1,form:{id:"",description:"",x3d:"",img:"",video:"",nId:"",nDesc:""}}},created:function(){this.getData()},computed:{data:function(){return this.tableData}},methods:{create:function(){this.createVisible=!0},getData:function(){var e=this;this.$axios.get(this.url+"/findAll").then(function(t){e.tableData=t.data})},getFile:function(e,t){this.form[t]=e.target.files[0],this.$message.success("Upload successfully")},handleEdit:function(e){this.form={id:e.id,description:e.description},this.editVisible=!0},handleDelete:function(e){this.form={id:e.id},this.delVisible=!0},saveEdit:function(){var e=this;this.$axios.post(this.url+"/update",this.$qs.stringify(this.form),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){"success"==t.data?(e.$message.success("Update successfully"),e.getData()):e.$message.error(msg),e.editVisible=!1}).catch(function(t){e.$message.error(t)})},saveCreate:function(){var e=this,t=new FormData;t.append("description",this.form.nDesc),t.append("x3d",this.form.x3d),t.append("img",this.form.img),t.append("video",this.form.video);this.$axios.post(this.url+"/create",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"success"==t.data?(e.$message.success("Upload successfully"),e.form={nDesc:"",x3d:"",img:"",video:""},e.getData()):e.$message.error(msg),e.createVisible=!1}).catch(function(t){e.$message.error(t)})},deleteRow:function(){var e=this;this.$axios.post(this.url+"/delete",this.$qs.stringify(this.form),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){"success"==t.data?(e.$message.success("Delete successfully"),e.getData()):e.$message.error(msg),e.delVisible=!1}).catch(function(t){e.$message.error(t)})}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-date"}),e._v(" Manage ")])],1)],1),e._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"form-box"},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"0"}},[i("el-form-item",{attrs:{label:""}},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:1}},[i("el-button",{attrs:{type:"primary"},on:{click:e.create}},[e._v("Create")])],1)],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"table-box"},[i("el-table",{attrs:{data:e.data,border:""}},[i("el-table-column",{attrs:{prop:"id",label:"id"}}),e._v(" "),i("el-table-column",{attrs:{prop:"description",label:"description"}}),e._v(" "),i("el-table-column",{attrs:{label:"action",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"small"},on:{click:function(i){e.handleEdit(t.row)}}},[e._v("Edit")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){e.handleDelete(t.row)}}},[e._v("Delete")])]}}])})],1)],1)]),e._v(" "),i("el-dialog",{attrs:{title:"CREATE",visible:e.createVisible,width:"30%"},on:{"update:visible":function(t){e.createVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"DESCRIPTION"}},[i("el-input",{attrs:{placeholder:"DESCRIPTION"},model:{value:e.form.nDesc,callback:function(t){e.$set(e.form,"nDesc",t)},expression:"form.nDesc"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"X3D"}},[i("input",{attrs:{type:"file",placeholder:"x3d"},on:{change:function(t){e.getFile(t,"x3d")}}})]),e._v(" "),i("el-form-item",{attrs:{label:"IMG"}},[i("input",{attrs:{type:"file",placeholder:"img"},on:{change:function(t){e.getFile(t,"img")}}})]),e._v(" "),i("el-form-item",{attrs:{label:"VIDEO"}},[i("input",{attrs:{type:"file",placeholder:"video"},on:{change:function(t){e.getFile(t,"video")}}})])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.createVisible=!1}}},[e._v("Cancel")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.saveCreate}},[e._v("Yes")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"EDIT",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"ID"}},[i("el-input",{attrs:{placeholder:"ID"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"DESCRIPTION"}},[i("el-input",{attrs:{placeholder:"DESCRIPTION"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("Cancel")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("Yes")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"TIP",visible:e.delVisible,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[i("div",{staticClass:"del-dialog-cnt"},[e._v("Are you sure to delete ?")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("Cancel")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.deleteRow}},[e._v("Yes")])],1)])],1)},staticRenderFns:[]},l=i("VU/8")(s,a,!1,null,null,null);t.default=l.exports}});